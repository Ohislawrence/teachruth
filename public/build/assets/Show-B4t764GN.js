import{_}from"./AppLayout-BivyDxj8.js";import{s as k,c as D,w as c,a as t,t as s,n as d,e as n,o as l,F as C,i as S,f as x,b as u,g,p as f,h as b,k as M}from"./app-CSsEuods.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"flex items-center"},z={class:"py-12"},B={class:"max-w-6xl mx-auto sm:px-6 lg:px-8"},J={class:"bg-white shadow overflow-hidden sm:rounded-lg"},L={class:"px-4 py-5 sm:px-6 border-b border-gray-200"},N={class:"flex justify-between items-start"},H={class:"text-2xl font-bold text-gray-900"},I={class:"mt-1 text-lg text-gray-600"},T={class:"text-sm text-gray-500"},$={class:"text-right"},E={class:"mt-2 text-lg font-semibold text-gray-900"},U={class:"px-4 py-5 sm:p-6"},q={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},F={class:"lg:col-span-2"},P={class:"mb-8"},G={class:"prose max-w-none text-gray-700 whitespace-pre-line"},O={class:"mb-8"},Q={class:"bg-gray-50 rounded-lg p-4"},R={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},K={class:"mt-1 text-sm text-gray-900 capitalize"},W={class:"mt-1 text-sm text-gray-900 capitalize"},X={class:"mt-1 text-sm text-gray-900"},Y={class:"mt-1 text-sm text-gray-900 capitalize"},Z={class:"mt-1 text-sm text-gray-900"},tt={class:"text-lg font-medium text-gray-900 mb-4"},et={key:0,class:"space-y-4"},st={class:"flex justify-between items-start"},ot={class:"text-sm font-medium text-gray-900"},it={class:"text-sm text-gray-600"},at={class:"text-xs text-gray-500"},lt={key:0,class:"mt-1 text-xs text-gray-600"},nt={key:1,class:"mt-2"},rt={class:"text-sm text-gray-700 line-clamp-2"},dt={class:"text-right"},ct={key:0,class:"mt-1 text-xs text-gray-500 max-w-xs"},mt={key:1,class:"text-center py-8 bg-gray-50 rounded-lg"},xt={class:"space-y-6"},ut={class:"bg-gray-50 rounded-lg p-6"},gt={class:"space-y-3"},ft={class:"flex items-center"},bt={class:"text-sm text-gray-700"},ht={class:"flex items-center"},yt={class:"text-sm text-gray-700"},vt={class:"flex items-center"},pt={class:"text-sm text-gray-700 capitalize"},jt={class:"flex items-center"},wt={class:"text-sm text-gray-700"},_t={class:"flex items-center"},kt={class:"text-sm text-gray-700"},Dt={class:"mt-4"},Ct={class:"bg-blue-50 rounded-lg p-6"},St={class:"space-y-2"},Mt={class:"flex justify-between"},Vt={class:"text-sm font-medium text-gray-900"},At={class:"flex justify-between"},zt={class:"text-sm font-medium text-gray-900"},Bt={class:"flex justify-between"},Jt={class:"bg-white border border-gray-200 rounded-lg p-6"},Lt={class:"space-y-3"},Nt={__name:"Show",props:{job:Object},setup(o){const y=o,r=k(()=>{const a=new Date(y.job.application_deadline)-new Date,w=Math.ceil(a/(1e3*60*60*24));return Math.max(0,w)}),v=i=>i.is_active?new Date(i.application_deadline)<new Date?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800":"bg-red-100 text-red-800",p=i=>i.is_active?new Date(i.application_deadline)<new Date?"Expired":"Active":"Inactive",j=i=>({pending:"bg-yellow-100 text-yellow-800",reviewed:"bg-blue-100 text-blue-800",shortlisted:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"})[i]||"bg-gray-100 text-gray-800",m=i=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),h=i=>{confirm(`Are you sure you want to ${i.is_active?"deactivate":"activate"} this job?`)&&M.post(route("admin.jobs.toggle-status",i.id),{},{preserveScroll:!0,onSuccess:()=>{}})};return(i,e)=>(l(),D(_,null,{header:c(()=>[t("div",A,[u(g(f),{href:i.route("admin.jobs"),class:"text-gray-600 hover:text-gray-900 mr-4"},{default:c(()=>[...e[2]||(e[2]=[b(" ← Back to Jobs ",-1)])]),_:1},8,["href"]),e[3]||(e[3]=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Job Details ",-1))])]),default:c(()=>[t("div",z,[t("div",B,[t("div",J,[t("div",L,[t("div",N,[t("div",null,[t("h1",H,s(o.job.title),1),t("p",I,s(o.job.school.school_profile.school_name),1),t("p",T,s(o.job.school.school_profile.address)+", "+s(o.job.state)+", "+s(o.job.lga),1)]),t("div",$,[t("span",{class:d(["inline-flex items-center px-3 py-1 rounded-full text-sm font-medium",v(o.job)])},s(p(o.job)),3),t("p",E,s(o.job.salary_range),1),t("button",{onClick:e[0]||(e[0]=a=>h(o.job)),class:d(["mt-2 inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",o.job.is_active?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"])},s(o.job.is_active?"Deactivate Job":"Activate Job"),3)])])]),t("div",U,[t("div",q,[t("div",F,[t("div",P,[e[4]||(e[4]=t("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Job Description",-1)),t("div",G,s(o.job.description),1)]),t("div",O,[e[11]||(e[11]=t("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Job Requirements",-1)),t("div",Q,[t("dl",R,[t("div",null,[e[5]||(e[5]=t("dt",{class:"text-sm font-medium text-gray-500"},"Subject",-1)),t("dd",K,s(o.job.subject.replace("_"," ")),1)]),t("div",null,[e[6]||(e[6]=t("dt",{class:"text-sm font-medium text-gray-500"},"Level",-1)),t("dd",W,s(o.job.level.replace("_"," ")),1)]),t("div",null,[e[7]||(e[7]=t("dt",{class:"text-sm font-medium text-gray-500"},"Class/Grade",-1)),t("dd",X,s(o.job.class_grade||"Not specified"),1)]),t("div",null,[e[8]||(e[8]=t("dt",{class:"text-sm font-medium text-gray-500"},"Employment Type",-1)),t("dd",Y,s(o.job.employment_type.replace("_"," ")),1)]),t("div",null,[e[9]||(e[9]=t("dt",{class:"text-sm font-medium text-gray-500"},"Application Deadline",-1)),t("dd",Z,s(m(o.job.application_deadline)),1)]),t("div",null,[e[10]||(e[10]=t("dt",{class:"text-sm font-medium text-gray-500"},"Days Left",-1)),t("dd",{class:d(["mt-1 text-sm font-medium",r.value<=3?"text-red-600":"text-green-600"])},s(r.value)+" day"+s(r.value!==1?"s":""),3)])])])]),t("div",null,[t("h2",tt,"Applications ("+s(o.job.applications.length)+")",1),o.job.applications.length>0?(l(),n("div",et,[(l(!0),n(C,null,S(o.job.applications,a=>(l(),n("div",{key:a.id,class:"border border-gray-200 rounded-lg p-4"},[t("div",st,[t("div",null,[t("h4",ot,s(a.teacher.name),1),t("p",it,s(a.teacher.email),1),t("p",at," Applied "+s(m(a.created_at)),1),a.teacher.teacher_profile?(l(),n("div",lt,s(a.teacher.teacher_profile.qualification)+" • "+s(a.teacher.teacher_profile.years_of_experience)+" years experience ",1)):x("",!0),a.cover_letter?(l(),n("div",nt,[t("p",rt,s(a.cover_letter),1)])):x("",!0)]),t("div",dt,[t("span",{class:d(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",j(a.status)])},s(a.status.toUpperCase()),3),a.school_feedback?(l(),n("div",ct,s(a.school_feedback),1)):x("",!0)])])]))),128))])):(l(),n("div",mt,[...e[12]||(e[12]=[t("p",{class:"text-gray-500"},"No applications yet.",-1)])]))])]),t("div",xt,[t("div",ut,[e[19]||(e[19]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"School Information",-1)),t("div",gt,[t("div",ft,[e[13]||(e[13]=t("svg",{class:"h-5 w-5 text-gray-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1)),t("span",bt,s(o.job.school.school_profile.school_type.toUpperCase()),1)]),t("div",ht,[e[14]||(e[14]=t("svg",{class:"h-5 w-5 text-gray-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),t("span",yt,s(o.job.school.school_profile.state)+", "+s(o.job.school.school_profile.lga),1)]),t("div",vt,[e[15]||(e[15]=t("svg",{class:"h-5 w-5 text-gray-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),t("span",pt,s(o.job.school.school_profile.ownership),1)]),t("div",jt,[e[16]||(e[16]=t("svg",{class:"h-5 w-5 text-gray-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),t("span",wt,s(o.job.school.email),1)]),t("div",_t,[e[17]||(e[17]=t("svg",{class:"h-5 w-5 text-gray-400 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),t("span",kt,s(o.job.school.school_profile.phone),1)])]),t("div",Dt,[u(g(f),{href:i.route("admin.schools.show",o.job.school.id),class:"text-sm font-medium text-blue-600 hover:text-blue-500"},{default:c(()=>[...e[18]||(e[18]=[b(" View School Profile → ",-1)])]),_:1},8,["href"])])]),t("div",Ct,[e[23]||(e[23]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Important Dates",-1)),t("div",St,[t("div",Mt,[e[20]||(e[20]=t("span",{class:"text-sm text-gray-600"},"Posted:",-1)),t("span",Vt,s(m(o.job.created_at)),1)]),t("div",At,[e[21]||(e[21]=t("span",{class:"text-sm text-gray-600"},"Deadline:",-1)),t("span",zt,s(m(o.job.application_deadline)),1)]),t("div",Bt,[e[22]||(e[22]=t("span",{class:"text-sm text-gray-600"},"Days Left:",-1)),t("span",{class:d(["text-sm font-medium",r.value<=3?"text-red-600":"text-green-600"])},s(r.value)+" day"+s(r.value!==1?"s":""),3)])])]),t("div",Jt,[e[25]||(e[25]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Quick Actions",-1)),t("div",Lt,[u(g(f),{href:i.route("admin.applications",{job:o.job.id}),class:"w-full flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:c(()=>[...e[24]||(e[24]=[b(" View All Applications ",-1)])]),_:1},8,["href"]),t("button",{onClick:e[1]||(e[1]=a=>h(o.job)),class:d(["w-full flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",o.job.is_active?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"])},s(o.job.is_active?"Deactivate Job":"Activate Job"),3)])])])])])])])])]),_:1}))}},$t=V(Nt,[["__scopeId","data-v-fbb54a7f"]]);export{$t as default};
