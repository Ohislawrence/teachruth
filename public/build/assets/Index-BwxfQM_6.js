import{d as w,u as N,j as R,k as D,c as j,w as x,a as e,e as n,f as c,t as o,l as p,v as S,m as C,o as r,F as M,i as U,n as v,h as d,b as h,g as a,p as g,q as L}from"./app-CSsEuods.js";import{_ as P}from"./AppLayout-BivyDxj8.js";import{l as B}from"./lodash-BwiGWe_m.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"py-12"},I={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},q={class:"grid grid-cols-1 gap-5 sm:grid-cols-5 mb-6"},H={class:"bg-white overflow-hidden shadow rounded-lg"},J={class:"px-4 py-5 sm:p-6"},$={class:"mt-1 text-3xl font-semibold text-gray-900"},Q={class:"bg-white overflow-hidden shadow rounded-lg"},G={class:"px-4 py-5 sm:p-6"},K={class:"mt-1 text-3xl font-semibold text-yellow-600"},W={class:"bg-white overflow-hidden shadow rounded-lg"},X={class:"px-4 py-5 sm:p-6"},Y={class:"mt-1 text-3xl font-semibold text-blue-600"},Z={class:"bg-white overflow-hidden shadow rounded-lg"},ee={class:"px-4 py-5 sm:p-6"},te={class:"mt-1 text-3xl font-semibold text-green-600"},se={class:"bg-white overflow-hidden shadow rounded-lg"},oe={class:"px-4 py-5 sm:p-6"},le={class:"mt-1 text-3xl font-semibold text-red-600"},de={class:"bg-white shadow-sm rounded-lg p-6 mb-6"},re={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},ie={class:"bg-white shadow overflow-hidden sm:rounded-lg"},ne={class:"divide-y divide-gray-200"},ae={class:"flex items-center justify-between"},ue={class:"flex-1"},me={class:"flex items-center justify-between"},ce={class:"text-lg font-medium text-gray-900"},fe={class:"text-sm text-gray-600 mt-1"},xe={class:"text-sm text-gray-500"},ge={class:"ml-2 flex-shrink-0 flex"},be={class:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4"},pe={class:"text-sm text-gray-600 space-y-1"},ve={key:0},he={key:1},ye={key:2},we={class:"text-sm text-gray-600 space-y-1"},_e={key:0,class:"mt-4"},ke={class:"text-sm text-gray-600 line-clamp-2"},je={key:1,class:"mt-3 bg-blue-50 border border-blue-200 rounded-md p-3"},Se={class:"text-sm text-blue-800"},Ce={class:"ml-4 flex-shrink-0 flex flex-col space-y-2"},Me=["onClick"],Ue={key:0,class:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6"},Ae={class:"flex-1 flex justify-between sm:hidden"},Ve={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},Te={class:"text-sm text-gray-700"},ze={class:"font-medium"},Fe={class:"font-medium"},Ne={class:"font-medium"},Re={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},De={key:1,class:"text-center py-12"},Le={key:0,class:"fixed inset-0 overflow-y-auto px-4 py-6 sm:px-0 z-50"},Pe={class:"bg-white rounded-lg overflow-hidden shadow-xl transform transition-all sm:max-w-lg sm:w-full sm:mx-auto"},Be={class:"px-6 py-4"},Oe={class:"space-y-4"},Ee={class:"mt-6 flex justify-end space-x-3"},Ie=["disabled"],qe={__name:"Index",props:{applications:Object,stats:Object,filters:Object},setup(l){const _=l,f=w({search:_.filters.search||"",status:_.filters.status||""}),y=w(!1),b=w(null),u=N({status:"",school_feedback:""});R(f,B.debounce(i=>{D.get(route("admin.applications"),i,{preserveState:!0,replace:!0})},300),{deep:!0});const A=()=>{f.value={search:"",status:""}},V=i=>({pending:"bg-yellow-100 text-yellow-800",reviewed:"bg-blue-100 text-blue-800",shortlisted:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"})[i]||"bg-gray-100 text-gray-800",T=i=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),z=i=>{b.value=i,u.status=i.status,u.school_feedback=i.school_feedback||"",y.value=!0},k=()=>{y.value=!1,b.value=null,u.reset()},F=()=>{b.value&&u.post(route("admin.applications.update-status",b.value.id),{preserveScroll:!0,onSuccess:()=>{k()}})};return(i,t)=>(r(),j(P,null,{header:x(()=>[...t[4]||(t[4]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Applications Management ",-1)])]),default:x(()=>[e("div",E,[e("div",I,[e("div",q,[e("div",H,[e("div",J,[t[5]||(t[5]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total",-1)),e("dd",$,o(l.stats.total),1)])]),e("div",Q,[e("div",G,[t[6]||(t[6]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Pending",-1)),e("dd",K,o(l.stats.pending),1)])]),e("div",W,[e("div",X,[t[7]||(t[7]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Reviewed",-1)),e("dd",Y,o(l.stats.reviewed),1)])]),e("div",Z,[e("div",ee,[t[8]||(t[8]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Shortlisted",-1)),e("dd",te,o(l.stats.shortlisted),1)])]),e("div",se,[e("div",oe,[t[9]||(t[9]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Rejected",-1)),e("dd",le,o(l.stats.rejected),1)])])]),e("div",de,[e("div",re,[e("div",null,[t[10]||(t[10]=e("label",{for:"search",class:"block text-sm font-medium text-gray-700"},"Search",-1)),p(e("input",{type:"text",id:"search","onUpdate:modelValue":t[0]||(t[0]=s=>f.value.search=s),placeholder:"Teacher or job title...",class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},null,512),[[S,f.value.search]])]),e("div",null,[t[12]||(t[12]=e("label",{for:"status",class:"block text-sm font-medium text-gray-700"},"Status",-1)),p(e("select",{id:"status","onUpdate:modelValue":t[1]||(t[1]=s=>f.value.status=s),class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},[...t[11]||(t[11]=[e("option",{value:""},"All Status",-1),e("option",{value:"pending"},"Pending",-1),e("option",{value:"reviewed"},"Reviewed",-1),e("option",{value:"shortlisted"},"Shortlisted",-1),e("option",{value:"rejected"},"Rejected",-1)])],512),[[C,f.value.status]])]),e("div",{class:"flex items-end space-x-2"},[e("button",{onClick:A,class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Reset ")])])]),e("div",ie,[t[32]||(t[32]=e("div",{class:"px-4 py-5 sm:px-6 border-b border-gray-200"},[e("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," All Applications "),e("p",{class:"mt-1 max-w-2xl text-sm text-gray-500"}," Manage and monitor all job applications in the system. ")],-1)),e("ul",ne,[(r(!0),n(M,null,U(l.applications.data,s=>(r(),n("li",{key:s.id,class:"px-4 py-4 sm:px-6 hover:bg-gray-50"},[e("div",ae,[e("div",ue,[e("div",me,[e("div",null,[e("h3",ce,o(s.teacher.name),1),e("p",fe," Applied for: "+o(s.job.title),1),e("p",xe,o(s.job.school.school_profile.school_name)+" â€¢ "+o(T(s.created_at)),1)]),e("div",ge,[e("span",{class:v(["px-2 inline-flex text-xs leading-5 font-semibold rounded-full",V(s.status)])},o(s.status.toUpperCase()),3)])]),e("div",be,[e("div",null,[t[16]||(t[16]=e("h4",{class:"text-sm font-medium text-gray-900 mb-2"},"Teacher Profile",-1)),e("div",pe,[s.teacher.teacher_profile?(r(),n("div",ve,[t[13]||(t[13]=e("span",{class:"font-medium"},"Qualification:",-1)),d(" "+o(s.teacher.teacher_profile.qualification),1)])):c("",!0),s.teacher.teacher_profile?(r(),n("div",he,[t[14]||(t[14]=e("span",{class:"font-medium"},"Experience:",-1)),d(" "+o(s.teacher.teacher_profile.years_of_experience)+" years ",1)])):c("",!0),s.teacher.teacher_profile?(r(),n("div",ye,[t[15]||(t[15]=e("span",{class:"font-medium"},"Specialization:",-1)),d(" "+o(s.teacher.teacher_profile.specialization),1)])):c("",!0)])]),e("div",null,[t[20]||(t[20]=e("h4",{class:"text-sm font-medium text-gray-900 mb-2"},"Application Details",-1)),e("div",we,[e("div",null,[t[17]||(t[17]=e("span",{class:"font-medium"},"Job:",-1)),d(" "+o(s.job.title),1)]),e("div",null,[t[18]||(t[18]=e("span",{class:"font-medium"},"Subject:",-1)),d(" "+o(s.job.subject.replace("_"," ").replace(/\b\w/g,m=>m.toUpperCase())),1)]),e("div",null,[t[19]||(t[19]=e("span",{class:"font-medium"},"Level:",-1)),d(" "+o(s.job.level.replace("_"," ").replace(/\b\w/g,m=>m.toUpperCase())),1)])])])]),s.cover_letter?(r(),n("div",_e,[t[21]||(t[21]=e("h4",{class:"text-sm font-medium text-gray-900 mb-2"},"Cover Letter",-1)),e("p",ke,o(s.cover_letter),1)])):c("",!0),s.school_feedback?(r(),n("div",je,[e("p",Se,[t[22]||(t[22]=e("strong",null,"School Feedback:",-1)),d(" "+o(s.school_feedback),1)])])):c("",!0)]),e("div",Ce,[h(a(g),{href:i.route("admin.teachers.show",s.teacher.id),class:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:x(()=>[...t[23]||(t[23]=[d(" View Teacher ",-1)])]),_:1},8,["href"]),h(a(g),{href:i.route("admin.jobs.show",s.job.id),class:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},{default:x(()=>[...t[24]||(t[24]=[d(" View Job ",-1)])]),_:1},8,["href"]),e("button",{onClick:m=>z(s),class:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Update Status ",8,Me)])])]))),128))]),l.applications.links.length>3?(r(),n("div",Ue,[e("div",Ae,[h(a(g),{href:l.applications.prev_page_url,class:v([{"opacity-50 cursor-not-allowed":!l.applications.prev_page_url},"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"])},{default:x(()=>[...t[25]||(t[25]=[d(" Previous ",-1)])]),_:1},8,["href","class"]),h(a(g),{href:l.applications.next_page_url,class:v([{"opacity-50 cursor-not-allowed":!l.applications.next_page_url},"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"])},{default:x(()=>[...t[26]||(t[26]=[d(" Next ",-1)])]),_:1},8,["href","class"])]),e("div",Ve,[e("div",null,[e("p",Te,[t[27]||(t[27]=d(" Showing ",-1)),e("span",ze,o(l.applications.from),1),t[28]||(t[28]=d(" to ",-1)),e("span",Fe,o(l.applications.to),1),t[29]||(t[29]=d(" of ",-1)),e("span",Ne,o(l.applications.total),1),t[30]||(t[30]=d(" applications ",-1))])]),e("div",null,[e("nav",Re,[(r(!0),n(M,null,U(l.applications.links,(s,m)=>(r(),j(a(g),{key:m,href:s.url,class:v(["relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",{"bg-blue-50 border-blue-500 text-blue-600 z-10":s.active,"rounded-l-md":m===0,"rounded-r-md":m===l.applications.links.length-1}]),innerHTML:s.label},null,8,["href","class","innerHTML"]))),128))])])])])):c("",!0),l.applications.data.length===0?(r(),n("div",De,[...t[31]||(t[31]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No applications found",-1),e("p",{class:"mt-1 text-sm text-gray-500"}," No applications match your current filters. ",-1)])])):c("",!0)])])]),y.value?(r(),n("div",Le,[t[37]||(t[37]=e("div",{class:"fixed inset-0 transform transition-all"},[e("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1)),e("div",Pe,[e("div",Be,[t[36]||(t[36]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Update Application Status",-1)),e("form",{onSubmit:L(F,["prevent"])},[e("div",Oe,[e("div",null,[t[34]||(t[34]=e("label",{for:"status",class:"block text-sm font-medium text-gray-700"},"Status",-1)),p(e("select",{id:"status","onUpdate:modelValue":t[2]||(t[2]=s=>a(u).status=s),class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},[...t[33]||(t[33]=[e("option",{value:"pending"},"Pending",-1),e("option",{value:"reviewed"},"Reviewed",-1),e("option",{value:"shortlisted"},"Shortlisted",-1),e("option",{value:"rejected"},"Rejected",-1)])],512),[[C,a(u).status]])]),e("div",null,[t[35]||(t[35]=e("label",{for:"school_feedback",class:"block text-sm font-medium text-gray-700"},"Feedback (Optional)",-1)),p(e("textarea",{id:"school_feedback","onUpdate:modelValue":t[3]||(t[3]=s=>a(u).school_feedback=s),rows:"3",class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Add feedback for the teacher..."},null,512),[[S,a(u).school_feedback]])])]),e("div",Ee,[e("button",{type:"button",onClick:k,class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Cancel "),e("button",{type:"submit",disabled:a(u).processing,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},o(a(u).processing?"Updating...":"Update Status"),9,Ie)])],32)])])])):c("",!0)]),_:1}))}},Ge=O(qe,[["__scopeId","data-v-12f64261"]]);export{Ge as default};
