import{d as y,u as B,s as k,j,e as l,a as o,f as i,t as m,Q as N,q as F,l as v,v as x,g as n,n as u,h as b,F as I,i as L,b as V,w as E,p as $,o as d}from"./app-CN3FlaHZ.js";const O={class:"min-h-screen bg-gradient-to-b from-emerald-50 via-teal-50 to-white py-12"},U={class:"max-w-md mx-auto"},z={key:0,class:"mb-6"},T={class:"bg-red-50 border border-red-200 rounded-xl p-4"},D={class:"flex"},R={class:"ml-3"},H={class:"text-sm font-medium text-red-800"},Z={class:"bg-white shadow-2xl rounded-2xl border border-emerald-100 overflow-hidden"},Q={key:0,class:"text-red-500 text-sm mt-1"},G={key:0,class:"text-red-500 text-sm mt-1"},J={key:0,class:"text-red-500 text-sm mt-1"},K={key:0,class:"text-red-500 text-sm mt-1"},W={key:1,class:"mt-2 space-y-1"},X={class:"flex items-center"},Y={key:0,class:"text-red-500 text-sm mt-1"},ee={key:1},se={key:0,class:"text-green-500 text-sm mt-1 flex items-center"},oe={key:1,class:"text-red-500 text-sm mt-1"},re={key:0,class:"bg-red-50 border border-red-200 rounded-xl p-4"},te={class:"flex"},ae={class:"ml-3"},ne={class:"mt-2 text-sm text-red-700"},le={class:"list-disc pl-5 space-y-1"},de={class:"pt-4"},ie=["disabled"],me={class:"text-center pt-4 border-t border-emerald-100"},ue={class:"text-sm text-gray-600"},pe={class:"mt-6 text-center"},ce={class:"text-sm text-gray-600"},we={__name:"Step1",setup(fe){const c=y(!1),t=y({}),g=y(!0),s=B({school_name:"",email:"",phone:"",password:"",password_confirmation:""}),P=k(()=>{if(!s.password)return 0;let r=0;return s.password.length>=8&&r++,/[A-Z]/.test(s.password)&&r++,/[0-9]/.test(s.password)&&r++,/[^A-Za-z0-9]/.test(s.password)&&r++,r}),_=k(()=>window.$page?.props?.errors||{}),S=k(()=>{const r=Object.keys(t.value).length>0,e=Object.keys(_.value).length>0;return s.school_name&&s.email&&s.phone&&s.password&&s.password_confirmation&&g.value&&s.password.length>=8&&!r&&!e});j(()=>s.errors,r=>{for(const[e,a]of Object.entries(r))e==="password"&&a.includes("confirmation")?t.value.password_confirmation="Passwords do not match":t.value[e]=a},{deep:!0}),j(()=>_.value,r=>{if(r)for(const[e,a]of Object.entries(r))e==="password"&&a.includes("confirmation")?t.value.password_confirmation="Passwords do not match":t.value[e]=a},{deep:!0});const f=r=>t.value[r]||s.errors[r]?"border-red-300":"border-emerald-100",p=r=>t.value[r]||s.errors[r],h=r=>t.value[r]||s.errors[r],w=r=>{t.value[r]&&delete t.value[r]},C=()=>{s.password&&s.password_confirmation&&(s.password!==s.password_confirmation?(t.value.password_confirmation="Passwords do not match",g.value=!1):(delete t.value.password_confirmation,g.value=!0))},q=()=>(t.value={},s.school_name.trim()||(t.value.school_name="School name is required"),s.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(t.value.email="Please enter a valid email address"):t.value.email="Email is required",s.phone.trim()?/^[0-9+\-\s()]{10,20}$/.test(s.phone)||(t.value.phone="Please enter a valid phone number"):t.value.phone="Phone number is required",s.password?s.password.length<8&&(t.value.password="Password must be at least 8 characters"):t.value.password="Password is required",s.password_confirmation?s.password!==s.password_confirmation&&(t.value.password_confirmation="Passwords do not match"):t.value.password_confirmation="Please confirm your password",Object.keys(t.value).length===0),A=()=>{if(t.value={},!q())return;c.value=!0;const r={school_name:s.school_name,email:s.email,phone:s.phone,password:s.password,password_confirmation:s.password_confirmation};console.log("Submitting data:",r),s.post(route("school.register.storeStep1"),{data:r,preserveState:!0,preserveScroll:!0,onFinish:()=>{c.value=!1},onError:e=>{console.log("Registration errors:",e),e.password&&e.password.includes("confirmation")&&(t.value.password_confirmation="Passwords do not match")}})};return(r,e)=>(d(),l("div",O,[o("div",U,[r.$page.props.flash.error?(d(),l("div",z,[o("div",T,[o("div",D,[e[10]||(e[10]=o("div",{class:"flex-shrink-0"},[o("svg",{class:"h-5 w-5 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.856-.833-2.464 0L4.154 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),o("div",R,[o("p",H,m(r.$page.props.flash.error),1)])])])])):i("",!0),o("div",Z,[e[21]||(e[21]=N('<div class="bg-gradient-to-r from-emerald-600 to-teal-600 px-6 py-8 text-center"><div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4"><svg class="w-8 h-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path></svg></div><h1 class="text-2xl font-bold text-white">School Registration</h1><p class="text-emerald-100 mt-2">Create your school account in minutes</p></div>',1)),o("form",{onSubmit:F(A,["prevent"]),class:"p-6 space-y-6"},[o("div",null,[e[11]||(e[11]=o("label",{for:"school_name",class:"block text-sm font-semibold text-emerald-700 mb-2"}," School Name ",-1)),v(o("input",{type:"text",id:"school_name","onUpdate:modelValue":e[0]||(e[0]=a=>n(s).school_name=a),required:"",class:u(["w-full px-4 py-3 border-2 rounded-xl focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 focus:outline-none transition",f("school_name")]),placeholder:"Enter school name",onInput:e[1]||(e[1]=a=>w("school_name"))},null,34),[[x,n(s).school_name]]),p("school_name")?(d(),l("p",Q,m(h("school_name")),1)):i("",!0)]),o("div",null,[e[12]||(e[12]=o("label",{for:"email",class:"block text-sm font-semibold text-emerald-700 mb-2"}," Email Address ",-1)),v(o("input",{type:"email",id:"email","onUpdate:modelValue":e[2]||(e[2]=a=>n(s).email=a),required:"",class:u(["w-full px-4 py-3 border-2 rounded-xl focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 focus:outline-none transition",f("email")]),placeholder:"school@example.com",onInput:e[3]||(e[3]=a=>w("email"))},null,34),[[x,n(s).email]]),p("email")?(d(),l("p",G,m(h("email")),1)):i("",!0)]),o("div",null,[e[13]||(e[13]=o("label",{for:"phone",class:"block text-sm font-semibold text-emerald-700 mb-2"}," Phone Number ",-1)),v(o("input",{type:"tel",id:"phone","onUpdate:modelValue":e[4]||(e[4]=a=>n(s).phone=a),required:"",class:u(["w-full px-4 py-3 border-2 rounded-xl focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 focus:outline-none transition",f("phone")]),placeholder:"08012345678",onInput:e[5]||(e[5]=a=>w("phone"))},null,34),[[x,n(s).phone]]),p("phone")?(d(),l("p",J,m(h("phone")),1)):i("",!0)]),o("div",null,[e[14]||(e[14]=o("label",{for:"password",class:"block text-sm font-semibold text-emerald-700 mb-2"}," Password ",-1)),v(o("input",{type:"password",id:"password","onUpdate:modelValue":e[6]||(e[6]=a=>n(s).password=a),required:"",class:u(["w-full px-4 py-3 border-2 rounded-xl focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 focus:outline-none transition",f("password")]),placeholder:"Create a strong password (min. 8 characters)",onInput:e[7]||(e[7]=a=>{w("password"),C()})},null,34),[[x,n(s).password]]),p("password")?(d(),l("p",K,m(h("password")),1)):i("",!0),n(s).password&&!p("password")?(d(),l("div",W,[o("div",X,[o("div",{class:u(["w-2 h-2 rounded-full mr-2",P.value>=1?"bg-emerald-500":"bg-gray-300"])},null,2),o("span",{class:u(["text-xs",P.value>=1?"text-emerald-700":"text-gray-500"])}," At least 8 characters "+m(n(s).password.length>=8?"âœ“":""),3)])])):i("",!0)]),o("div",null,[e[16]||(e[16]=o("label",{for:"password_confirmation",class:"block text-sm font-semibold text-emerald-700 mb-2"}," Confirm Password ",-1)),v(o("input",{type:"password",id:"password_confirmation","onUpdate:modelValue":e[8]||(e[8]=a=>n(s).password_confirmation=a),required:"",class:u(["w-full px-4 py-3 border-2 rounded-xl focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 focus:outline-none transition",f("password_confirmation")]),placeholder:"Confirm your password",onInput:e[9]||(e[9]=a=>{w("password_confirmation"),C()})},null,34),[[x,n(s).password_confirmation]]),p("password_confirmation")?(d(),l("p",Y,m(h("password_confirmation")),1)):i("",!0),n(s).password&&n(s).password_confirmation&&!p("password_confirmation")?(d(),l("div",ee,[g.value?(d(),l("p",se,[...e[15]||(e[15]=[o("svg",{class:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1),b(" Passwords match ",-1)])])):(d(),l("p",oe," Passwords do not match "))])):i("",!0)]),Object.keys(r.$page.props.errors).length>0?(d(),l("div",re,[o("div",te,[e[18]||(e[18]=o("div",{class:"flex-shrink-0"},[o("svg",{class:"h-5 w-5 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.856-.833-2.464 0L4.154 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),o("div",ae,[e[17]||(e[17]=o("h3",{class:"text-sm font-medium text-red-800"},"There were errors with your submission",-1)),o("div",ne,[o("ul",le,[(d(!0),l(I,null,L(_.value,(a,M)=>(d(),l("li",{key:M},m(a),1))),128))])])])])])):i("",!0),o("div",de,[o("button",{type:"submit",disabled:c.value||!S.value,class:u(["w-full py-3 px-4 border border-transparent rounded-xl shadow-lg text-white font-bold text-lg transition transform hover:-translate-y-0.5 focus:outline-none focus:ring-4 focus:ring-emerald-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",c.value||!S.value?"bg-emerald-400":"bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700"])},m(c.value?"Creating Account...":"Create School Account"),11,ie)]),o("div",me,[o("p",ue,[e[20]||(e[20]=b(" Already have an account? ",-1)),V(n($),{href:r.route("login"),class:"font-semibold text-emerald-600 hover:text-emerald-700"},{default:E(()=>[...e[19]||(e[19]=[b(" Sign in here ",-1)])]),_:1},8,["href"])])])],32)]),o("div",pe,[o("p",ce,[e[23]||(e[23]=b(" Are you a teacher? ",-1)),V(n($),{href:r.route("teacher.register.step1"),class:"font-semibold text-emerald-600 hover:text-emerald-700"},{default:E(()=>[...e[22]||(e[22]=[b(" Register as Teacher ",-1)])]),_:1},8,["href"])])])])]))}};export{we as default};
