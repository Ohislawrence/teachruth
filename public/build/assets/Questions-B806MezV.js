import{d as b,u as B,s as T,c as Q,w as M,a as e,t as d,x as N,h as x,q as V,e as i,f as v,o as l,F as y,i as k,l as p,g as n,a0 as w,n as h,v as I}from"./app-CN3FlaHZ.js";import{_ as A}from"./AppLayout-D1Cufdxy.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const U={class:"min-h-screen bg-emerald-50 py-12 px-4 sm:px-6 lg:px-8"},Y={class:"max-w-3xl mx-auto"},z={class:"text-center"},F={class:"mt-8 max-w-xl mx-auto"},P={class:"flex justify-between text-sm text-gray-600 mb-2"},R={class:"w-full bg-gray-200 rounded-full h-2.5"},L={class:"mt-8 bg-white shadow-sm overflow-hidden sm:rounded-xl border border-emerald-100"},S={class:"px-5 py-6 sm:px-6 sm:py-7"},D={class:"space-y-6"},G={class:"mb-2"},E={class:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-emerald-100 text-emerald-800"},H={class:"text-xl font-semibold text-gray-900 mb-6"},O={key:0,class:"space-y-3"},J={class:"flex items-center h-5"},K=["id","name","value","checked"],W={class:"ml-3 text-sm"},X=["for"],Z={key:0,class:"ml-auto text-emerald-600"},ee={key:1,class:"space-y-4"},se={class:"flex flex-col sm:flex-row gap-4"},te={class:"flex items-center"},oe=["id","name"],re={class:"flex items-center justify-center w-6 h-6 mr-3 border-2 rounded-full"},ne={key:0,class:"w-3 h-3 rounded-full bg-emerald-500"},le={class:"flex items-center"},ie=["id","name"],ae={class:"flex items-center justify-center w-6 h-6 mr-3 border-2 rounded-full"},de={key:0,class:"w-3 h-3 rounded-full bg-emerald-500"},ue={key:2},ce={class:"mt-1 relative"},me={class:"absolute bottom-2 right-2 text-xs text-gray-400"},ve={key:3,class:"mt-2 text-sm text-red-600"},fe={class:"pt-4 border-t border-gray-100"},ge={class:"flex items-center text-sm text-gray-500"},he={key:0,class:"h-5 w-5 text-emerald-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},xe={key:1},pe={key:2,class:"text-amber-600"},we={class:"flex justify-between pt-8 mt-6 border-t border-gray-200"},be=["disabled"],ye=["disabled"],ke={key:0,class:"ml-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},_e={class:"mt-6 pt-4 border-t border-gray-100"},qe={class:"flex flex-wrap justify-center gap-2"},$e=["onClick","title"],Qe={__name:"Questions",props:{questions:Array,errors:Object,isReappraisal:{type:Boolean,default:!0}},setup(m){const f=b(!1),a=b(0),g=m,o=B({answers:{}}),t=T(()=>g.questions[a.value]),_=()=>{o.answers[t.value.id]&&a.value<g.questions.length-1&&(a.value++,window.scrollTo({top:0,behavior:"smooth"}))},q=()=>{a.value>0&&(a.value--,window.scrollTo({top:0,behavior:"smooth"}))},$=u=>{const s=g.questions.filter(c=>o.answers[c.id]),r=g.questions.findIndex(c=>c.id===s[s.length-1]?.id);u<=r+1&&(a.value=u,window.scrollTo({top:0,behavior:"smooth"}))},C=u=>{const s=u.target;s.style.height="auto",s.style.height=s.scrollHeight+"px"},j=()=>{const u=g.questions.filter(s=>!o.answers[s.id]);if(u.length>0){const s=g.questions.findIndex(r=>r.id===u[0].id);a.value=s,window.scrollTo({top:0,behavior:"smooth"});return}f.value=!0,o.post(route("teacher.reappraisal.process"),{onFinish:()=>{f.value=!1}})};return(u,s)=>(l(),Q(A,{title:"Reappraisal Questions"},{default:M(()=>[e("div",U,[e("div",Y,[e("div",z,[s[6]||(s[6]=e("h2",{class:"text-3xl font-extrabold text-gray-900"}," Update Your Teaching Profile ",-1)),s[7]||(s[7]=e("p",{class:"mt-2 text-lg text-gray-600"}," Answer these questions to get your updated AI-powered appraisal ",-1)),e("div",F,[e("div",P,[e("span",null,"Question "+d(a.value+1)+" of "+d(m.questions.length),1),e("span",null,d(Math.round((a.value+1)/m.questions.length*100))+"% Complete",1)]),e("div",R,[e("div",{class:"bg-emerald-600 h-2.5 rounded-full transition-all duration-300 ease-out",style:N({width:`${(a.value+1)/m.questions.length*100}%`})},null,4)]),s[5]||(s[5]=e("div",{class:"mt-4 inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-emerald-100 text-emerald-800"},[e("svg",{class:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})]),x(" Payment Verified • ₦2,500 ")],-1))])]),e("div",L,[e("div",S,[e("form",{onSubmit:V(j,["prevent"])},[e("div",D,[e("div",G,[e("span",E," Question "+d(a.value+1)+" of "+d(m.questions.length),1)]),e("h3",H,d(t.value.question),1),t.value.type==="multiple_choice"?(l(),i("div",O,[(l(!0),i(y,null,k(t.value.options,r=>(l(),i("div",{key:r,class:"relative flex items-start group"},[e("div",J,[p(e("input",{id:`question-${t.value.id}-${r}`,"onUpdate:modelValue":s[0]||(s[0]=c=>n(o).answers[t.value.id]=c),name:`question-${t.value.id}`,type:"radio",value:r,checked:n(o).answers[t.value.id]===r,class:"focus:ring-emerald-500 h-5 w-5 text-emerald-600 border-gray-300 transition"},null,8,K),[[w,n(o).answers[t.value.id]]])]),e("div",W,[e("label",{for:`question-${t.value.id}-${r}`,class:"font-medium text-gray-700 cursor-pointer transition hover:text-emerald-700"},d(r),9,X)]),n(o).answers[t.value.id]===r?(l(),i("div",Z,[...s[8]||(s[8]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])])):v("",!0)]))),128))])):t.value.type==="boolean"?(l(),i("div",ee,[e("div",se,[e("label",{class:h(["flex-1 p-4 border-2 rounded-lg cursor-pointer transition-all",n(o).answers[t.value.id]==="Yes"?"border-emerald-500 bg-emerald-50":"border-gray-200 hover:border-emerald-200"])},[e("div",te,[p(e("input",{id:`question-${t.value.id}-yes`,"onUpdate:modelValue":s[1]||(s[1]=r=>n(o).answers[t.value.id]=r),name:`question-${t.value.id}`,type:"radio",value:"Yes",class:"sr-only"},null,8,oe),[[w,n(o).answers[t.value.id]]]),e("div",re,[n(o).answers[t.value.id]==="Yes"?(l(),i("div",ne)):v("",!0)]),s[9]||(s[9]=e("span",{class:"text-lg font-medium text-gray-700"},"Yes",-1))])],2),e("label",{class:h(["flex-1 p-4 border-2 rounded-lg cursor-pointer transition-all",n(o).answers[t.value.id]==="No"?"border-emerald-500 bg-emerald-50":"border-gray-200 hover:border-emerald-200"])},[e("div",le,[p(e("input",{id:`question-${t.value.id}-no`,"onUpdate:modelValue":s[2]||(s[2]=r=>n(o).answers[t.value.id]=r),name:`question-${t.value.id}`,type:"radio",value:"No",class:"sr-only"},null,8,ie),[[w,n(o).answers[t.value.id]]]),e("div",ae,[n(o).answers[t.value.id]==="No"?(l(),i("div",de)):v("",!0)]),s[10]||(s[10]=e("span",{class:"text-lg font-medium text-gray-700"},"No",-1))])],2)])])):t.value.type==="text"?(l(),i("div",ue,[e("div",ce,[p(e("textarea",{"onUpdate:modelValue":s[3]||(s[3]=r=>n(o).answers[t.value.id]=r),rows:"4",class:"w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 sm:text-sm placeholder:text-gray-400 transition",placeholder:"Type your answer here...",onInput:C},null,544),[[I,n(o).answers[t.value.id]]]),e("div",me,d(n(o).answers[t.value.id]?.length||0)+" characters ",1)])])):v("",!0),m.errors[`answers.${t.value.id}`]?(l(),i("p",ve,d(m.errors[`answers.${t.value.id}`]),1)):v("",!0),e("div",fe,[e("div",ge,[n(o).answers[t.value.id]?(l(),i("svg",he,[...s[11]||(s[11]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])])):v("",!0),n(o).answers[t.value.id]?(l(),i("span",xe," You've answered this question ")):(l(),i("span",pe," Please answer this question before continuing "))])])]),e("div",we,[e("div",null,[a.value>0?(l(),i("button",{key:0,type:"button",onClick:q,class:"inline-flex items-center px-4 py-2.5 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition"},[...s[12]||(s[12]=[e("svg",{class:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),x(" Previous ",-1)])])):(l(),i("button",{key:1,type:"button",onClick:s[4]||(s[4]=r=>u.$inertia.visit(u.route("teacher.reappraisal.index"))),class:"inline-flex items-center px-4 py-2.5 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2 transition"}," ← Back to Reappraisal "))]),e("div",null,[a.value<m.questions.length-1?(l(),i("button",{key:0,type:"button",onClick:_,disabled:!n(o).answers[t.value.id],class:h(["inline-flex items-center px-5 py-2.5 border border-transparent text-sm font-medium rounded-lg shadow-sm text-white focus:outline-none focus:ring-2 focus:ring-offset-2 transition",n(o).answers[t.value.id]?"bg-emerald-600 hover:bg-emerald-700 focus:ring-emerald-500":"bg-gray-300 cursor-not-allowed"])},[...s[13]||(s[13]=[x(" Next Question ",-1),e("svg",{class:"ml-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],10,be)):(l(),i("button",{key:1,type:"submit",disabled:f.value||!n(o).answers[t.value.id],class:h(["inline-flex items-center px-5 py-2.5 border border-transparent text-sm font-medium rounded-lg shadow-sm text-white focus:outline-none focus:ring-2 focus:ring-offset-2 transition",f.value?"bg-emerald-400 cursor-not-allowed":n(o).answers[t.value.id]?"bg-emerald-600 hover:bg-emerald-700 focus:ring-emerald-500":"bg-gray-300 cursor-not-allowed"])},[x(d(f.value?"Generating Appraisal...":"Generate New Appraisal")+" ",1),f.value?v("",!0):(l(),i("svg",ke,[...s[14]||(s[14]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])]))],10,ye))])]),e("div",_e,[e("div",qe,[(l(!0),i(y,null,k(m.questions,(r,c)=>(l(),i("button",{key:r.id,type:"button",onClick:Ce=>$(c),class:h(["w-8 h-8 rounded-full text-sm font-medium transition-all",c===a.value?"bg-emerald-600 text-white":n(o).answers[r.id]?"bg-emerald-100 text-emerald-700 hover:bg-emerald-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"]),title:`Question ${c+1}: ${r.question.substring(0,30)}...`},d(c+1),11,$e))),128))])])],32)])])])])]),_:1}))}};export{Qe as default};
