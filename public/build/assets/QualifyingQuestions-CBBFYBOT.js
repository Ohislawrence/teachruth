import{d as h,u as D,s as w,c as F,w as Q,a as e,e as l,f as p,t as d,o as r,F as k,i as _,h as f,n as L,q as z,l as x,g as i,v as C,m as H,O as Y,k as q}from"./app-CN3FlaHZ.js";import{_ as G}from"./AppLayout-D1Cufdxy.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const I={class:"py-12"},J={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},K={class:"grid grid-cols-1 gap-5 sm:grid-cols-4 mb-6"},P={class:"bg-white overflow-hidden shadow rounded-lg"},R={class:"px-4 py-5 sm:p-6"},W={class:"mt-1 text-3xl font-semibold text-gray-900"},X={class:"bg-white overflow-hidden shadow rounded-lg"},Z={class:"px-4 py-5 sm:p-6"},ee={class:"mt-1 text-3xl font-semibold text-green-600"},te={class:"bg-white overflow-hidden shadow rounded-lg"},se={class:"px-4 py-5 sm:p-6"},oe={class:"mt-1 text-3xl font-semibold text-blue-600"},ne={class:"bg-white shadow overflow-hidden sm:rounded-lg"},ie={class:"divide-y divide-gray-200"},re={class:"flex items-center justify-between"},le={class:"flex-1"},de={class:"flex items-center justify-between"},ue={class:"text-lg font-medium text-gray-900 flex items-center"},ae={key:0,class:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800"},ce={class:"mt-1 flex items-center space-x-4 text-sm text-gray-500"},me={class:"flex items-center"},pe={class:"flex items-center"},fe={key:0,class:"mt-3"},xe={class:"flex flex-wrap gap-2"},ge={class:"ml-4 flex-shrink-0 flex flex-col space-y-2"},be=["onClick"],ve=["onClick"],ye=["onClick"],he={key:0,class:"text-center py-12"},we={key:0,class:"fixed inset-0 overflow-y-auto px-4 py-6 sm:px-0 z-50"},ke={class:"bg-white rounded-lg overflow-hidden shadow-xl transform transition-all sm:max-w-2xl sm:w-full sm:mx-auto"},_e={class:"px-6 py-4"},Ce={class:"flex justify-between items-center mb-4"},Me={class:"text-lg font-medium text-gray-900"},Qe={class:"space-y-4"},qe={key:0},Se={class:"space-y-2"},Ae=["onUpdate:modelValue"],je=["onClick"],Be={class:"flex items-center"},Te={class:"mt-6 flex justify-end space-x-3"},Ve=["disabled"],Ue={__name:"QualifyingQuestions",props:{questions:Array},setup(y){const a=y,g=h(!1),c=h(!1),m=h(null),s=D({question:"",type:"",options:[],order:0,is_active:!0}),S=w(()=>a.questions.filter(o=>o.is_active).length),A=w(()=>a.questions.filter(o=>o.type==="multiple_choice").length),j=w(()=>[...a.questions].sort((o,t)=>o.order-t.order)),B=o=>({multiple_choice:"Multiple Choice",text:"Text Answer",boolean:"Yes/No"})[o]||o,M=()=>{c.value=!1,m.value=null,s.reset(),s.order=a.questions.length>0?Math.max(...a.questions.map(o=>o.order))+1:1,g.value=!0},T=o=>{c.value=!0,m.value=o,s.question=o.question,s.type=o.type,s.options=o.options?[...o.options]:[],s.order=o.order,s.is_active=o.is_active,g.value=!0},b=()=>{g.value=!1,m.value=null,s.reset()},V=()=>{s.type==="multiple_choice"&&s.options.length===0?s.options=[""]:s.type!=="multiple_choice"&&(s.options=[])},O=()=>{s.options.push("")},E=o=>{s.options.splice(o,1)},N=()=>{c.value&&m.value?s.put(route("admin.settings.questions.update",m.value.id),{preserveScroll:!0,onSuccess:()=>{b()}}):s.post(route("admin.settings.questions.store"),{preserveScroll:!0,onSuccess:()=>{b()}})},U=o=>{const t=o.is_active?"deactivate":"activate";confirm(`Are you sure you want to ${t} this question?`)&&q.post(route("admin.settings.questions.toggle",o.id),{},{preserveScroll:!0,onSuccess:()=>{}})},$=o=>{confirm("Are you sure you want to delete this question? This action cannot be undone.")&&q.delete(route("admin.settings.questions.destroy",o.id),{preserveScroll:!0,onSuccess:()=>{}})};return(o,t)=>(r(),F(G,null,{header:Q(()=>[...t[4]||(t[4]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Qualifying Questions Settings ",-1)])]),default:Q(()=>[e("div",I,[e("div",J,[e("div",K,[e("div",P,[e("div",R,[t[5]||(t[5]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Questions",-1)),e("dd",W,d(y.questions.length),1)])]),e("div",X,[e("div",Z,[t[6]||(t[6]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Active Questions",-1)),e("dd",ee,d(S.value),1)])]),e("div",te,[e("div",se,[t[7]||(t[7]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Multiple Choice",-1)),e("dd",oe,d(A.value),1)])]),e("div",{class:"bg-white overflow-hidden shadow rounded-lg"},[e("div",{class:"flex items-end justify-between px-4 py-5 sm:p-6"},[e("div",null,[t[8]||(t[8]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Actions",-1)),e("dd",{class:"mt-1"},[e("button",{onClick:M,class:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Add Question ")])])])])]),e("div",ne,[t[16]||(t[16]=e("div",{class:"px-4 py-5 sm:px-6 border-b border-gray-200"},[e("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," Qualifying Questions "),e("p",{class:"mt-1 max-w-2xl text-sm text-gray-500"}," Manage the questions that teachers answer during registration. ")],-1)),e("ul",ie,[(r(!0),l(k,null,_(j.value,n=>(r(),l("li",{key:n.id,class:"px-4 py-4 sm:px-6 hover:bg-gray-50"},[e("div",re,[e("div",le,[e("div",de,[e("div",null,[e("h3",ue,[f(d(n.question)+" ",1),n.is_active?p("",!0):(r(),l("span",ae," Inactive "))]),e("div",ce,[e("span",me,[t[9]||(t[9]=e("svg",{class:"h-4 w-4 mr-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),f(" "+d(B(n.type)),1)]),e("span",pe,[t[10]||(t[10]=e("svg",{class:"h-4 w-4 mr-1 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h7"})],-1)),f(" Order: "+d(n.order),1)])])])]),n.options&&n.options.length>0?(r(),l("div",fe,[t[11]||(t[11]=e("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"Options:",-1)),e("div",xe,[(r(!0),l(k,null,_(n.options,(u,v)=>(r(),l("span",{key:v,class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},d(u),1))),128))])])):p("",!0)]),e("div",ge,[e("button",{onClick:u=>T(n),class:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Edit ",8,be),e("button",{onClick:u=>U(n),class:L(["inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",n.is_active?"bg-yellow-600 hover:bg-yellow-700":"bg-green-600 hover:bg-green-700"])},d(n.is_active?"Deactivate":"Activate"),11,ve),e("button",{onClick:u=>$(n),class:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"}," Delete ",8,ye)])])]))),128))]),y.questions.length===0?(r(),l("div",he,[t[13]||(t[13]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t[14]||(t[14]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No questions configured",-1)),t[15]||(t[15]=e("p",{class:"mt-1 text-sm text-gray-500"}," Get started by creating your first qualifying question. ",-1)),e("div",{class:"mt-6"},[e("button",{onClick:M,class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[...t[12]||(t[12]=[e("svg",{class:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),f(" Add First Question ",-1)])])])])):p("",!0)])])]),g.value?(r(),l("div",we,[t[27]||(t[27]=e("div",{class:"fixed inset-0 transform transition-all"},[e("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1)),e("div",ke,[e("div",_e,[e("div",Ce,[e("h3",Me,d(c.value?"Edit Question":"Add New Question"),1),e("button",{onClick:b,class:"text-gray-400 hover:text-gray-500"},[...t[17]||(t[17]=[e("svg",{class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("form",{onSubmit:z(N,["prevent"])},[e("div",Qe,[e("div",null,[t[18]||(t[18]=e("label",{for:"question",class:"block text-sm font-medium text-gray-700"},"Question Text",-1)),x(e("textarea",{id:"question","onUpdate:modelValue":t[0]||(t[0]=n=>i(s).question=n),rows:"3",required:"",class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter the question that teachers will answer..."},null,512),[[C,i(s).question]])]),e("div",null,[t[20]||(t[20]=e("label",{for:"type",class:"block text-sm font-medium text-gray-700"},"Question Type",-1)),x(e("select",{id:"type","onUpdate:modelValue":t[1]||(t[1]=n=>i(s).type=n),required:"",onChange:V,class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},[...t[19]||(t[19]=[e("option",{value:""},"Select Type",-1),e("option",{value:"multiple_choice"},"Multiple Choice",-1),e("option",{value:"text"},"Text Answer",-1),e("option",{value:"boolean"},"Yes/No (Boolean)",-1)])],544),[[H,i(s).type]])]),i(s).type==="multiple_choice"?(r(),l("div",qe,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Options",-1)),e("div",Se,[(r(!0),l(k,null,_(i(s).options,(n,u)=>(r(),l("div",{key:u,class:"flex items-center space-x-2"},[x(e("input",{type:"text","onUpdate:modelValue":v=>i(s).options[u]=v,required:"",class:"flex-1 border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter option..."},null,8,Ae),[[C,i(s).options[u]]]),e("button",{type:"button",onClick:v=>E(u),class:"inline-flex items-center p-2 border border-transparent rounded-md text-red-600 hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},[...t[21]||(t[21]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,je)]))),128)),e("button",{type:"button",onClick:O,class:"inline-flex items-center px-3 py-1 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"},[...t[22]||(t[22]=[e("svg",{class:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),f(" Add Option ",-1)])])])])):p("",!0),e("div",null,[t[24]||(t[24]=e("label",{for:"order",class:"block text-sm font-medium text-gray-700"},"Display Order",-1)),x(e("input",{type:"number",id:"order","onUpdate:modelValue":t[2]||(t[2]=n=>i(s).order=n),required:"",min:"0",class:"mt-1 block w-32 border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"},null,512),[[C,i(s).order]]),t[25]||(t[25]=e("p",{class:"mt-1 text-sm text-gray-500"},"Lower numbers appear first",-1))]),e("div",Be,[x(e("input",{id:"is_active","onUpdate:modelValue":t[3]||(t[3]=n=>i(s).is_active=n),type:"checkbox",class:"focus:ring-blue-500 h-4 w-4 text-blue-600 border-gray-300 rounded"},null,512),[[Y,i(s).is_active]]),t[26]||(t[26]=e("label",{for:"is_active",class:"ml-2 block text-sm text-gray-900"}," Active (visible to teachers during registration) ",-1))])]),e("div",Te,[e("button",{type:"button",onClick:b,class:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Cancel "),e("button",{type:"submit",disabled:i(s).processing,class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"},d(i(s).processing?"Saving...":c.value?"Update Question":"Create Question"),9,Ve)])],32)])])])):p("",!0)]),_:1}))}};export{Ue as default};
